\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{libertine}
\renewcommand{\familydefault}{\sfdefault}
\usepackage[T1]{fontenc}
\usepackage[cjk]{kotex} % [cjk] option is needed for texlive 2022 engine (see more: https://www.overleaf.com/blog/tex-live-2022-now-available)

\usepackage{mathrsfs}
\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage{calligra}
\usepackage{mathtools}
\usepackage{mathabx} % Needed to use \widecheck
\usepackage{quiver}

% \usepackage{fullpage}
\usepackage{enumitem}
\setlist[enumerate]{label=(\alph*)}
\usepackage[most]{tcolorbox}

\usepackage{makecell}
\usepackage{hhline}

\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{svg}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=orange,
}
\usepackage{ulem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\parskip}{\baselineskip}

\newcommand{\separater}{\begin{center} \rule{0.5\linewidth}{0.3pt} \end{center}}

\usepackage{tikz}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw,inner sep=2pt] (char) {#1};}} % Circled numbering, https://tex.stackexchange.com/a/7045

% \renewcommand{\thesubsection}{\arabic{subsection}} % Subsection numbering

%%%%%%% Theorem Definition Style %%%%%%%
\theoremstyle{plain}
\newtheorem{lem}{Lemma}
\newtheorem{fact}[lem]{Fact}
\newtheorem{prop}[lem]{Proposition}
\newtheorem{thm}[lem]{Theorem}
\newtheorem{thmdef}[lem]{Theorem-Definition}
\newtheorem{cor}[lem]{Corollary}

\theoremstyle{definition}
\newtheorem{defn}[lem]{Definition}
\newtheorem{exam}[lem]{Examples}
\newtheorem*{exer}{Exercise}
\newtheorem*{prob}{Problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\setminus}{\smallsetminus}
\renewcommand{\sl}{\mathfrak{sl}}

\DeclareMathOperator{\Ab}{\underline{\textsf{Ab}}}
\DeclareMathOperator{\ad}{ad}
\DeclareMathOperator{\Ad}{Ad}
\DeclareMathOperator{\bdry}{\partial}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\CP}{\mathbb{C}\mathrm{P}}
\DeclareMathOperator{\ch}{char}
\DeclareMathOperator{\eval}{eval}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Gr}{Gr}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\calHom}{\mathscr{H}\text{\kern -3pt {\calligra\large om}}\,}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\PGr}{\mathbf{Gr}}
\DeclareMathOperator{\Pic}{Pic}
\DeclareMathOperator{\PSh}{\underline{\textsf{PSh}}}
\DeclareMathOperator{\red}{red}
\DeclareMathOperator{\res}{res}
\DeclareMathOperator{\rk}{rank}
\DeclareMathOperator{\Sch}{\underline{\textsf{Sch}}}
\DeclareMathOperator{\RP}{\mathbb{R}\mathrm{P}}
\DeclareMathOperator{\Sh}{\underline{\textsf{Sh}}}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Span}{Span}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Supp}{Supp}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\Tors}{Tors}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{\textbf{Harthshorne Reading Study}\\[0.5em] {\large at KAIST Mathematical Problem Solving Group}}
\author{20190262 Jeongwoo Park}
\date{Period: 2022 December - 2023 January}

\begin{document}

\maketitle

\separater

\section*{Section II.1}

\begin{exer}[II.1.8]
    For any open subset $U \subset X$, show that the functor $\Gamma(U, \underline{\hspace{0.6em}})$ from sheaves on $X$ to abelian groups is a left-exact functor. The functor $\Gamma(U, \underline{\hspace{0.6em}})$ need not be exact.
\end{exer}

\begin{tcolorbox}[breakable, enhanced]
    \textbf{First Solution} (for beginners). The sequence
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCIwIl0sWzEsMCwiXFxtYXRoc2Nye0Z9JyJdLFsyLDAsIlxcbWF0aHNjcntGfSJdLFszLDAsIlxcbWF0aHNjcntGfScnIl0sWzEsMl0sWzIsMywiZyJdLFswLDFdXQ==
    \[\begin{tikzcd}
        0 & {\mathscr{F}'} & {\mathscr{F}} & {\mathscr{F}''}
        \arrow[from=1-2, to=1-3]
        \arrow["g", from=1-3, to=1-4]
        \arrow[from=1-1, to=1-2]
    \end{tikzcd}\]
    is exact means $\mathscr{F}$ is the kernel object of the second map $g$, i.e, there is an isomorphism $\alpha: \mathscr{F}' \to \ker g$ such that
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXG1hdGhzY3J7Rn0nIl0sWzEsMCwiXFxtYXRoc2Nye0Z9Il0sWzIsMCwiXFxtYXRoc2Nye0Z9JyciXSxbMSwxLCJcXGtlciBnIl0sWzAsMV0sWzEsMiwiZyJdLFszLDEsIiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoiYm90dG9tIn19fV0sWzAsMywiXFxzaW0iLDJdXQ==
    \[\begin{tikzcd}
        {\mathscr{F}'} & {\mathscr{F}} & {\mathscr{F}''} \\
        & {\ker g}
        \arrow[from=1-1, to=1-2]
        \arrow["g", from=1-2, to=1-3]
        \arrow[hook', from=2-2, to=1-2]
        \arrow["\sim"', from=1-1, to=2-2]
    \end{tikzcd}\]
    commutes. Taking the global section gives a commutative diagram
    % https://q.uiver.app/?q=WzAsNCxbMCwwLCJcXG1hdGhzY3J7Rn0nKFgpIl0sWzEsMCwiXFxtYXRoc2Nye0Z9KFgpIl0sWzIsMCwiXFxtYXRoc2Nye0Z9JycoWCkiXSxbMSwxLCIoXFxrZXIgZykoWCkiXSxbMCwxXSxbMSwyLCJnX1giXSxbMywxLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6ImJvdHRvbSJ9fX1dLFswLDMsIlxcc2ltIiwyXV0=
    \[\begin{tikzcd}
        {\mathscr{F}'(X)} & {\mathscr{F}(X)} & {\mathscr{F}''(X)} \\
        & {(\ker g)(X)}
        \arrow[from=1-1, to=1-2]
        \arrow["{g_X}", from=1-2, to=1-3]
        \arrow[hook', from=2-2, to=1-2]
        \arrow["\sim"', from=1-1, to=2-2]
    \end{tikzcd}\]
    Since the global section functor and the kernel commutes, we know that $(\ker g)(X) = \ker g_X$. Hence, $\mathscr{F}'(X)$ is a kernel object of the map $g_X$, so the sequence
    % https://q.uiver.app/?q=WzAsNCxbMSwwLCJcXG1hdGhzY3J7Rn0nKFgpIl0sWzIsMCwiXFxtYXRoc2Nye0Z9KFgpIl0sWzMsMCwiXFxtYXRoc2Nye0Z9JycoWCkiXSxbMCwwLCIwIl0sWzAsMV0sWzEsMiwiZ19YIl0sWzMsMF1d
    \[\begin{tikzcd}
        0 & {\mathscr{F}'(X)} & {\mathscr{F}(X)} & {\mathscr{F}''(X)}
        \arrow[from=1-2, to=1-3]
        \arrow["{g_X}", from=1-3, to=1-4]
        \arrow[from=1-1, to=1-2]
    \end{tikzcd}\]
    is exact. \qed
\end{tcolorbox}

\begin{tcolorbox}[breakable, enhanced]
    \textbf{Second Solution} (keep in mind). A functor is exact if and only it it commutes with the kernel. \qed
\end{tcolorbox}

\begin{tcolorbox}[breakable, enhanced]
    \textbf{Third Solution} (for those who are interested in category theory).

    \begin{enumerate}[label=\fbox{\arabic*}]
        \item The global section functor $\PSh \to \Ab$ is exact.
        \item The forgetful functor $\Sh \to \PSh$ is left-exact. Indeed, it is right adjoint to the sheafification functor $\PSh \to \Sh$.
    \end{enumerate}

    By combining these two results, the global section functor $\Sh \to \Ab$ is left-exact. \qed
\end{tcolorbox}

\begin{tcolorbox}[breakable, enhanced]
    \textbf{The global section functor is not exact}. Let's consider an exact sequence of sheaves
    % https://q.uiver.app/?q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiXFx1bmRlcmxpbmV7XFxtYXRoYmJ7Wn19Il0sWzIsMCwiXFxtYXRoc2Nye0h9Il0sWzMsMCwiXFxtYXRoc2Nye0h9XlxcYXN0Il0sWzQsMCwiMCJdLFswLDFdLFsxLDIsIjIgXFxwaSBpIl0sWzIsMywiXFxleHAiXSxbMyw0XV0=
    \[\begin{tikzcd}
        0 & {\underline{\mathbb{Z}}} & {\mathscr{H}} & {\mathscr{H}^\ast} & 0.
        \arrow[from=1-1, to=1-2]
        \arrow["{2 \pi i}", from=1-2, to=1-3]
        \arrow["\exp", from=1-3, to=1-4]
        \arrow[from=1-4, to=1-5]
    \end{tikzcd}\]
    in $\Sh(\mathbb{C}^\times)$. (Here, $\mathscr{H}$ is the sheaf of holomorphic functions, and $\mathscr{H}^\ast$ is one of invertiable holomorphic functions.) Indeed, the sequence is exact on each contractible open sets (and contractible open sets in $\mathbb{C}^\times$ forms a basis of topology).
    
    If we take global section functor at the sequence, then we have a sequence
    % https://q.uiver.app/?q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiXFxtYXRoYmJ7Wn0iXSxbMiwwLCJcXG1hdGhzY3J7SH0oXFxtYXRoYmJ7Q31eXFx0aW1lcykiXSxbMywwLCJcXG1hdGhzY3J7SH1eXFxhc3QoXFxtYXRoYmJ7Q31eXFx0aW1lcykiXSxbNCwwLCIwIl0sWzAsMV0sWzEsMiwiMiBcXHBpIGkiXSxbMiwzLCJcXGV4cCJdLFszLDRdXQ==
    \[\begin{tikzcd}
        0 & {\mathbb{Z}} & {\mathscr{H}(\mathbb{C}^\times)} & {\mathscr{H}^\ast(\mathbb{C}^\times)} & 0
        \arrow[from=1-1, to=1-2]
        \arrow["{2 \pi i}", from=1-2, to=1-3]
        \arrow["\exp", from=1-3, to=1-4]
        \arrow[from=1-4, to=1-5]
    \end{tikzcd}\]
    However, the exponential map is not surjective. Indeed, the fiber of $z \in \mathscr{H}^\ast(\mathbb{C}^\times)$ is empty, because there is no logorithm function defined on $\mathbb{C}^\times$. \qed

    \textbf{Note}. The first cohomology of $\underline{\mathbb{Z}} \in \Sh(\mathbb{C}^\times)$ is the same with the singular cohomology $H^1(\mathbb{C}^\times ; \mathbb{Z}) = \mathbb{Z}$.
\end{tcolorbox}

\separater

\begin{exer}[II.1.16, Flasque sheaves]
    A sheaf $\mathscr{F}$ on a topological space $X$ is \emph{flasque} or \emph{flabby} if for every inclusion $V \subseteq U$ of open sets, the restriction map $\mathscr{F}(U) \to \mathscr{F}(V)$ is surjective.
    \begin{enumerate}
        \item Show that a constant sheaf on an irreducible topological space is flasque.
        \item If $0 \to \mathscr{F}' \to \mathscr{F} \to \mathscr{F}'' \to 0$ is an exact sequence of sheaves, and if $\mathscr{F}'$ is flasque, then for any open set $U$, the sequence $0 \to \mathscr{F}'(U) \to \mathscr{F}(U) \to \mathscr{F}''(U) \to 0$ of abelian groups is alse exact, i.e, the global section functor is exact for those sequences.
        \item If $0 \to \mathscr{F}' \to \mathscr{F} \to \mathscr{F}'' \to 0$ is an exact sequence of sheaves, and if $\mathscr{F}'$ and $\mathscr{F}$ are flasque, then $\mathscr{F}''$ is flasque.
        \item If $f:X \to Y$ is a continuous map, and if $\mathscr{F}$ is a flasque sheaf on $X$, then $f_\ast \mathscr{F}$ is a flasque sheaf on $Y$.
        \item Let $\mathscr{F}$ be any sheaf on $X$. We define a new sheaf $\mathscr{G}$, called the sheaf of \emph{disconntinuous sections} of $\mathscr{F}$ as follows. For each open set $U \subseteq X$, $\mathscr{G}(U) := \prod_{x \in U} \mathscr{F}_x$. Show that $\mathscr{G}$ is a flasque sheaf, and that there is a natural injective morphism of $\mathscr{F}$ to $\mathscr{G}$.
    \end{enumerate}
\end{exer}

\begin{tcolorbox}[breakable, enhanced]
    \textbf{Solution}.
    \begin{enumerate}
        \item This is because $\underline{A}(U) = A$ whenever $U$ is non-empty, and the restriction map is the identity map except for the empty-set case. \qed
        
        \item It is enough to show that the global section functor is exact. Let $f \in \mathscr{F}''$ be any element. Note that the sequence at each stalk is exact. It is enough to show that if there are sections $g_i \in \Gamma(U_i, \mathscr{F})$ which map to $f|_{U_i}$ ($i = 1,2$), then there is a section (a sort of of ``gluing'') $g \in \Gamma(U_1 \cup U_2, \mathscr{F})$ which maps to $f$. \qed
        
        Since $g_1 - g_2$ is in the kernel of $\psi_{U_{12}}$, by the left-exactness of the global section functor, $g_1 - g_2$ is an image of some section $h \in \Gamma(U_{12}, \mathscr{F}')$. Since $\mathscr{F}'$ is flabby, it can be extended to $U_2$.

        Now, $g_1$ and $g_2 - \varphi(h)$ coincides on the intersection $U_{12}$, so there is a gluing $g \in \Gamma(U_1 \cup U_2, \mathscr{F})$ of them. Now, $g$ maps to $f$ because $g_1$ and $g_2$ maps to $f$, and $\varphi(h)$ maps to $0$.

        \item Let's see next commutative diagram.
        
        % https://q.uiver.app/?q=WzAsNixbMCwwLCJcXG1hdGhzY3J7Rn0nKFUpIl0sWzEsMCwiXFxtYXRoc2Nye0Z9KFUpIl0sWzIsMCwiXFxtYXRoc2Nye0Z9JycoVSkiXSxbMCwxLCJcXG1hdGhzY3J7Rn0nKFYpIl0sWzEsMSwiXFxtYXRoc2Nye0Z9KFYpIl0sWzIsMSwiXFxtYXRoc2Nye0Z9JycoVikiXSxbMCwxXSxbMSwyLCJcXHBzaV9VIl0sWzAsM10sWzEsNCwiXFxyZXMiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMiw1LCJcXHJlcycnIl0sWzMsNF0sWzQsNSwiXFxwc2lfViIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dXQ==
        \[\begin{tikzcd}
            {\mathscr{F}'(U)} & {\mathscr{F}(U)} & {\mathscr{F}''(U)} \\
            {\mathscr{F}'(V)} & {\mathscr{F}(V)} & {\mathscr{F}''(V)}
            \arrow[from=1-1, to=1-2]
            \arrow["{\psi_U}", from=1-2, to=1-3]
            \arrow[from=1-1, to=2-1]
            \arrow["\res", two heads, from=1-2, to=2-2]
            \arrow["{\res''}", from=1-3, to=2-3]
            \arrow[from=2-1, to=2-2]
            \arrow["{\psi_V}", two heads, from=2-2, to=2-3]
        \end{tikzcd}\]

        Since $\mathscr{F}'$ is flabby, the map $\psi_V$ is surjective. Also, $\mathscr{F}$ is flabby implies the surjectivity of $\res$ by definition. Hence, the composition of these two maps is surjective. This means, $\res'' \circ \psi_U = \psi_V \circ \res$ is surjective, so $\res''$ must be surjective. \qed

        \item Clear because the restriction maps of the pushout is the restriction maps of the original sheaf. \qed
        
        \item \fbox{1}\, $\mathscr{G}$ is flabby: This is because the projection map $\prod_{x \in U} \mathscr{F}_x \to \prod_{x \in V} \mathscr{F}_x$ is surjective for any inclusion $V \subseteq U$ of open sets.
        
        \fbox{2}\, There is a natural injective map $\mathscr{F} \to \mathscr{G}$: Define $\varphi: \mathscr{F} \to \mathscr{G}$ as $\varphi_U: s \mapsto [x \mapsto s_x]$. This map is clearly injetive because $s \in \ker \varphi_U$ implies $s_x = 0$ for all $x \in U$, which implies $s = 0$ by the sheaf axiom. \qed
    \end{enumerate}
\end{tcolorbox}

\newpage

\section*{Problems}

\subsection*{Section II.1}

\begin{enumerate}[label = \arabic*.]
    \item Let
    % https://q.uiver.app/?q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiXFxtYXRoc2Nye0Z9JyJdLFsyLDAsIlxcbWF0aHNjcntGfSJdLFszLDAsIlxcbWF0aHNjcntGfScnIl0sWzQsMCwiMCJdLFswLDFdLFsxLDJdLFsyLDNdLFszLDRdXQ==
    \[\begin{tikzcd}
        0 & {\mathscr{F}'} & {\mathscr{F}} & {\mathscr{F}''} & 0
        \arrow[from=1-1, to=1-2]
        \arrow[from=1-2, to=1-3]
        \arrow[from=1-3, to=1-4]
        \arrow[from=1-4, to=1-5]
    \end{tikzcd}\]
    be a sequence of sheaves.
    \begin{enumerate}
        \item Explain how's different the exactness of the sequence in $\Sh$ and in $\PSh$. Do the exactness in one category implies one in the another category?
        \item (With some knowledge in cohomology theory) Why the exactness of the global section is guaranteed only by the first term $\mathscr{F}'$?
        \item Why the sequence
        % https://q.uiver.app/?q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiXFx1bmRlcmxpbmV7XFxtYXRoYmJ7Wn19Il0sWzIsMCwiXFxtYXRoc2Nye0h9Il0sWzMsMCwiXFxtYXRoc2Nye0h9XlxcYXN0Il0sWzQsMCwiMCJdLFswLDFdLFsxLDJdLFsyLDNdLFszLDRdXQ==
        \[\begin{tikzcd}
            0 & {\underline{\mathbb{Z}}} & {\mathscr{H}} & {\mathscr{H}^\ast} & 0
            \arrow[from=1-1, to=1-2]
            \arrow[from=1-2, to=1-3]
            \arrow[from=1-3, to=1-4]
            \arrow[from=1-4, to=1-5]
        \end{tikzcd}\]
        is \emph{not exact} after taking the global section functor? How this fact is related with the sheaf cohomology?
        
        (Here, $\mathscr{H} \in \Sh(\mathbb{C})$ is the sheaf of holomorphic functions, and $\mathscr{H}^\ast \in \Sh(\mathbb{C})$ is one of \emph{invertiable} holomorphic functions.)
    \end{enumerate}
\end{enumerate}

\newpage

\section*{Properties in Philosophy}

\begin{tcolorbox}[breakable, enhanced]
    \begin{prop}(adjoint functors)
        Following pairs are adjoint.
        \begin{enumerate}[label = \arabic*.]
            \item $\text{Sheafification} \dashv \text{Forgetful functor}: \PSh \rightleftarrows \Sh$
            \item $\text{Constant presheaf functor} \dashv \text{Global section functor}: \Ab \rightleftarrows \PSh$
            \item[1+2.] $\text{Constant sheaf functor} \dashv \text{Global section functor}: \Ab \rightleftarrows \Sh$
            \item $\text{Forgetful functor} \dashv \text{Reduction functor}: \Sch \rightleftarrows \Sch_{\red}$
        \end{enumerate}
    \end{prop}
\end{tcolorbox}

[[adjunction and pullback/pushout? (co)limit? commutes... Gluing? Refuction of schemes?]]

\subsection*{Section II.1}

\begin{enumerate}[label = \arabic*.]
    \item An abelian functor is left-exact (resp. right-exact) if and only if it commutes with the kernel (resp. cokernel).
\end{enumerate}

\end{document}